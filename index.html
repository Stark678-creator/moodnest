<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MoodNest â€“ Secure Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="MoodNest is a private AI-assisted space for calm, thoughtful conversations.">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0f0c29;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.box{
  background:#1f1f3a;
  padding:30px;
  border-radius:20px;
  width:330px;
}
input,button{
  width:100%;
  padding:10px;
  margin:8px 0;
}
button{
  background:#7f5af0;
  color:white;
  border:none;
  cursor:pointer;
}
small{opacity:0.7}
</style>
</head>

<body>

<div class="box">
  <h2>Create Account</h2>
  <input id="name" placeholder="Full Name">
  <input id="age" placeholder="Age">
  <input id="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">
  <button onclick="signup()">Sign Up</button>

  <hr>

  <h2>Login</h2>
  <input id="lemail" placeholder="Email">
  <input id="lpass" type="password" placeholder="Password">
  <button onclick="login()">Login</button>

  <small>
    By continuing, you agree to our Terms & Privacy Policy.
  </small>
</div>

<script>
const API = "https://YOUR-BACKEND-URL"; // ðŸ”´ CHANGE THIS

function signup(){
  fetch(API+"/signup",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      name:name.value,
      age:age.value,
      email:email.value,
      password:password.value
    })
  }).then(r=>r.json()).then(d=>{
    alert(d.success ? "Account created. Please login." : d.error);
  });
}

function login(){
  fetch(API+"/login",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      email:lemail.value,
      password:lpass.value
    })
  }).then(r=>r.json()).then(d=>{
    if(d.token){
      localStorage.setItem("token",d.token);
      localStorage.setItem("name",d.name);
      localStorage.setItem("tokens",d.tokens);
      window.location="chat.html";
    } else {
      alert("Login failed");
    }
  });
}
</script>

</body>
</html>
